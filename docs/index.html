<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Binary Tree Speech Analysis</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes bounce {
      0%, 100% {
        transform: translateY(-25%);
        animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
      }
      50% {
        transform: translateY(0);
        animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
      }
    }
    .animate-bounce {
      animation: bounce 1s infinite;
    }
  </style>
</head>
<body>
  <div class="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-8">
    <div class="max-w-6xl mx-auto">
      <!-- Header -->
      <div class="text-center mb-8">
        <h1 class="text-4xl font-bold text-white mb-3">
          How We Analyze Speech
        </h1>
        <p class="text-purple-200 text-lg">Binary deconstruction → Pattern detection</p>
      </div>

      <!-- Progress -->
      <div class="flex justify-center gap-2 mb-8" id="progress-buttons">
        <!-- Buttons will be generated by JS -->
      </div>

      <!-- Phase 0: Original Sentence -->
      <div id="phase-0" class="hidden">
        <div class="bg-white/10 backdrop-blur-lg rounded-xl p-8 mb-6 border border-white/20">
          <div class="text-center">
            <p class="text-purple-300 text-sm mb-3">INPUT SENTENCE:</p>
            <p class="text-white text-2xl font-mono bg-white/5 p-6 rounded-lg border border-white/20">
              All immigrants are criminals who must be removed from our country
            </p>
          </div>
        </div>
      </div>

      <!-- Arrow between phases -->
      <div id="arrow-0" class="hidden flex justify-center mb-6">
        <svg class="w-8 h-8 text-purple-400 animate-bounce" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
        </svg>
      </div>

      <!-- Phase 1: Anonymization -->
      <div id="phase-1" class="hidden">
        <div class="bg-white/10 backdrop-blur-lg rounded-xl p-8 mb-6 border border-purple-400">
          <div class="flex items-center gap-3 mb-4">
            <svg class="w-6 h-6 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
            </svg>
            <p class="text-purple-300 text-sm">STEP 1: VEIL OF IGNORANCE (Anonymize Groups)</p>
          </div>
          <p class="text-white text-2xl font-mono bg-purple-500/20 p-6 rounded-lg border-2 border-purple-400">
            All <span class="bg-purple-600 px-2 py-1 rounded font-bold">[GROUP_B]</span> are criminals who must be removed from <span class="bg-purple-600 px-2 py-1 rounded font-bold">[GROUP_A]</span>
          </p>
          <p class="text-purple-200 text-sm mt-3 text-center italic">
            Detected 2 groups: "immigrants" → [GROUP_B], "our country" → [GROUP_A]
          </p>
        </div>
      </div>

      <div id="arrow-1" class="hidden flex justify-center mb-6">
        <svg class="w-8 h-8 text-purple-400 animate-bounce" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
        </svg>
      </div>

      <!-- Phase 2: Binary Tree Deconstruction -->
      <div id="phase-2" class="hidden">
        <div class="bg-white/10 backdrop-blur-lg rounded-xl p-8 mb-6 border border-white/20">
          <p class="text-purple-300 text-sm mb-6 text-center">STEP 2: LINGUISTIC PATTERN</p>
          
          <!-- Tree Structure -->
          <div class="flex flex-col items-center space-y-4">
            <!-- Root -->
            <div class="bg-purple-600 text-white px-6 py-3 rounded-lg font-mono text-sm shadow-lg">
              Full sentence
            </div>
            
            <!-- First split -->
            <div class="flex items-center gap-2">
              <div class="h-8 w-px bg-purple-400"></div>
            </div>
            <div class="flex items-start gap-12">
              <!-- Left branch -->
              <div class="flex flex-col items-center space-y-3">
                <div class="bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-mono shadow-lg">
                  "All [GROUP_B] are criminals"
                </div>
                <div class="h-6 w-px bg-blue-400"></div>
                <div class="flex gap-6">
                  <div class="flex flex-col items-center">
                    <div class="bg-blue-500/70 text-white px-3 py-2 rounded text-xs w-24 text-center">
                      "All [GROUP_B]"
                    </div>
                    <div class="text-xs text-blue-300 mt-2">Quantifier</div>
                  </div>
                  <div class="flex flex-col items-center">
                    <div class="bg-blue-500/70 text-white px-3 py-2 rounded text-xs w-24 text-center">
                      "are criminals"
                    </div>
                    <div class="text-xs text-blue-300 mt-2">Negative label</div>
                  </div>
                </div>
              </div>

              <!-- Right branch -->
              <div class="flex flex-col items-center space-y-3">
                <div class="bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-mono shadow-lg">
                  "who must be removed"
                </div>
                <div class="h-6 w-px bg-red-400"></div>
                <div class="flex gap-6">
                  <div class="flex flex-col items-center">
                    <div class="bg-red-500/70 text-white px-3 py-2 rounded text-xs w-24 text-center">
                      "must"
                    </div>
                    <div class="text-xs text-red-300 mt-2">Strong modal</div>
                  </div>
                  <div class="flex flex-col items-center">
                    <div class="bg-red-500/70 text-white px-3 py-2 rounded text-xs w-24 text-center">
                      "be removed"
                    </div>
                    <div class="text-xs text-red-300 mt-2">Action verb</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Pattern indicators -->
          <div class="grid grid-cols-2 gap-4 mt-8">
            <div class="bg-blue-500/20 rounded-lg p-4 border border-blue-400">
              <p class="text-blue-300 text-sm font-semibold mb-2">Left branch reveals:</p>
              <p class="text-white text-sm">→ Homogenization ("All... are criminals")</p>
              <p class="text-white text-sm">→ Contributes to absolutism score</p>
            </div>
            <div class="bg-red-500/20 rounded-lg p-4 border border-red-400">
              <p class="text-red-300 text-sm font-semibold mb-2">Right branch reveals:</p>
              <p class="text-white text-sm">→ Violence advocacy ("must be removed")</p>
              <p class="text-white text-sm">→ Threat inflation (forced removal)</p>
            </div>
          </div>
        </div>
      </div>

      <div id="arrow-2" class="hidden flex justify-center mb-6">
        <svg class="w-8 h-8 text-purple-400 animate-bounce" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
        </svg>
      </div>

      <!-- Phase 3: Psycholinguistic Analysis -->
      <div id="phase-3" class="hidden">
        <div class="bg-white/10 backdrop-blur-lg rounded-xl p-8 mb-6 border border-white/20">
          <p class="text-purple-300 text-sm mb-6 text-center">STEP 2B: PSYCHOLINGUISTIC PATTERNS</p>
          
          <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
            <div class="bg-gradient-to-br from-red-500/20 to-red-600/20 rounded-lg p-4 border-2 border-red-400">
              <p class="text-red-300 text-xs mb-2 font-semibold">Us vs Them Ratio</p>
              <p class="text-4xl font-bold text-white">8.0</p>
              <p class="text-xs text-red-200 mt-2">"our" vs "[GROUP_B]"</p>
            </div>
            
            <div class="bg-gradient-to-br from-green-500/20 to-green-600/20 rounded-lg p-4 border-2 border-green-400">
              <p class="text-green-300 text-xs mb-2 font-semibold">Modal Certainty</p>
              <p class="text-4xl font-bold text-white">2.0</p>
              <p class="text-xs text-green-200 mt-2">Low certainty markers</p>
            </div>
            
            <div class="bg-gradient-to-br from-purple-500/20 to-purple-600/20 rounded-lg p-4 border-2 border-purple-400">
              <p class="text-purple-300 text-xs mb-2 font-semibold">Absolutist Score</p>
              <p class="text-4xl font-bold text-white">8.0</p>
              <p class="text-xs text-purple-200 mt-2">"All" detected</p>
            </div>
            
            <div class="bg-gradient-to-br from-blue-500/20 to-blue-600/20 rounded-lg p-4 border-2 border-blue-400">
              <p class="text-blue-300 text-xs mb-2 font-semibold">Imperative Count</p>
              <p class="text-4xl font-bold text-white">0</p>
              <p class="text-xs text-blue-200 mt-2">No direct commands</p>
            </div>
          </div>
          
          <div class="mt-4 bg-purple-500/20 rounded-lg p-4 border border-purple-300">
            <p class="text-purple-200 text-sm text-center italic">
              These metrics reveal underlying psychological patterns that contribute to the final extremism scores
            </p>
          </div>
        </div>
      </div>

      <div id="arrow-3" class="hidden flex justify-center mb-6">
        <svg class="w-8 h-8 text-purple-400 animate-bounce" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
        </svg>
      </div>

      <!-- Phase 4: Scores -->
      <div id="phase-4" class="hidden">
        <div class="bg-white/10 backdrop-blur-lg rounded-xl p-8 border border-white/20">
          <p class="text-purple-300 text-sm mb-6 text-center">STEP 3: FINAL SCORE</p>
          
          <div class="grid grid-cols-2 md:grid-cols-3 gap-4 mb-6">
            <div class="bg-gradient-to-br from-green-500/20 to-green-600/20 rounded-lg p-5 border-2 border-green-400">
              <p class="text-green-300 text-sm mb-2 font-semibold">Dehumanization</p>
              <p class="text-4xl font-bold text-white">0/10</p>
              <p class="text-xs text-green-200 mt-2">No dehumanizing terms</p>
            </div>
            
            <div class="bg-gradient-to-br from-orange-500/20 to-orange-600/20 rounded-lg p-5 border-2 border-orange-400">
              <p class="text-orange-300 text-sm mb-2 font-semibold">Violence Advocacy</p>
              <p class="text-4xl font-bold text-white">5/10</p>
              <p class="text-xs text-orange-200 mt-2">"must be removed"</p>
            </div>
            
            <div class="bg-gradient-to-br from-yellow-500/20 to-yellow-600/20 rounded-lg p-5 border-2 border-yellow-400">
              <p class="text-yellow-300 text-sm mb-2 font-semibold">Threat Inflation</p>
              <p class="text-4xl font-bold text-white">6.5/10</p>
              <p class="text-xs text-yellow-200 mt-2">Framing as threat</p>
            </div>
            
            <div class="bg-gradient-to-br from-pink-500/20 to-pink-600/20 rounded-lg p-5 border-2 border-pink-400">
              <p class="text-pink-300 text-sm mb-2 font-semibold">Homogenization</p>
              <p class="text-4xl font-bold text-white">8.5/10</p>
              <p class="text-xs text-pink-200 mt-2">"All [GROUP_B] are..."</p>
            </div>
            
            <div class="bg-gradient-to-br from-purple-500/20 to-purple-600/20 rounded-lg p-5 border-2 border-purple-400">
              <p class="text-purple-300 text-sm mb-2 font-semibold">Absolutism</p>
              <p class="text-4xl font-bold text-white">5/10</p>
              <p class="text-xs text-purple-200 mt-2">"All" quantifier</p>
            </div>
            
            <div class="bg-gradient-to-br from-red-600 to-orange-600 rounded-lg p-5 border-2 border-red-400">
              <p class="text-white text-sm mb-2 font-bold">OVERALL</p>
              <p class="text-5xl font-bold text-white">9.5/10</p>
            </div>
          </div>

          <!-- Key insight -->
          <div class="bg-purple-500/30 rounded-lg p-6 border-2 border-purple-400 mt-6">
            <p class="text-white text-center text-lg font-semibold mb-2">
              Same score whether [GROUP_B] = immigrants, Muslims, Christians, politicians, or any group
            </p>
            <p class="text-purple-200 text-center text-sm">
              The Veil of Ignorance ensures fairness by judging language, not targets
            </p>
          </div>
        </div>
      </div>

      <!-- Navigation -->
      <div class="flex justify-center gap-4 mt-8">
        <button
          id="back-btn"
          class="px-6 py-3 bg-white/10 text-white rounded-lg font-semibold hover:bg-white/20 disabled:opacity-30 disabled:cursor-not-allowed transition-all"
        >
          ← Back
        </button>
        <button
          id="next-btn"
          class="px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 disabled:opacity-30 disabled:cursor-not-allowed transition-all"
        >
          Next →
        </button>
      </div>
    </div>
  </div>

  <script>
    let phase = 0;
    const labels = ['Original', 'Anonymize', 'Deconstruct', 'Psycholinguistic', 'Score'];

    function updateView() {
      // Update progress buttons
      const progressContainer = document.getElementById('progress-buttons');
      progressContainer.innerHTML = '';
      
      labels.forEach((label, idx) => {
        const button = document.createElement('button');
        button.textContent = label;
        button.onclick = () => setPhase(idx);
        
        let classes = 'px-4 py-2 rounded-lg font-semibold transition-all ';
        if (idx === phase) {
          classes += 'bg-purple-500 text-white';
        } else if (idx < phase) {
          classes += 'bg-green-500/30 text-green-300';
        } else {
          classes += 'bg-white/10 text-white/50';
        }
        button.className = classes;
        progressContainer.appendChild(button);
      });

      // Show/hide phases
      for (let i = 0; i <= 4; i++) {
        const phaseEl = document.getElementById(`phase-${i}`);
        const arrowEl = document.getElementById(`arrow-${i}`);
        
        if (phaseEl) {
          phaseEl.classList.toggle('hidden', i > phase);
        }
        
        if (arrowEl) {
          arrowEl.classList.toggle('hidden', i >= phase || phase >= 4);
        }
      }

      // Update navigation buttons
      const backBtn = document.getElementById('back-btn');
      const nextBtn = document.getElementById('next-btn');
      
      backBtn.disabled = phase === 0;
      nextBtn.disabled = phase === 4;
      nextBtn.textContent = phase === 4 ? 'Complete ✓' : 'Next →';
    }

    function setPhase(newPhase) {
      phase = newPhase;
      updateView();
    }

    document.getElementById('back-btn').onclick = () => {
      if (phase > 0) setPhase(phase - 1);
    };

    document.getElementById('next-btn').onclick = () => {
      if (phase < 4) setPhase(phase + 1);
    };

    // Initial render
    updateView();
  </script>
</body>
</html>